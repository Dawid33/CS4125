{% extends "book/book_base.html" %}

{% block head_extra %}
<title>Search</title>
<link href="{{ url_for('static', filename='book/book.css') }}" rel="stylesheet" />
{% endblock head_extra %}

{% block main %}

<main>
  <div id='container'>
    {% block content %}
    <content>
      <table>
        <tr>
          <td>
            <div id="title">Title
              <hr />
            </div>
          </td>
          <td>: {{ title }}</td>
        </tr>
        <tr>
          <td>
            <div id="author">Author
              <hr />
            </div>
          </td>
          <td>: {{ author }}</td>
        </tr>
        <tr>
          <td>
            <div id="copies">Available Copies
              <hr />
            </div>
          </td>
          <td>: {{ available_copies }} / {{ total_copies }}</td>
        </tr>
      </table>
      <script>
        async function borrow_book() {
          const response = await fetch("{{ url_for('book.borrow', book_id=book_id) }}");
          const text = await response.json();
          window.location.reload(true)
        }
      </script>
      <button id="return-button" class="btn btn-primary" onclick="borrow_book()">Borrow Book</button>
    </content>
    {% endblock content %}
  </div>
</main>

{% endblock main %}